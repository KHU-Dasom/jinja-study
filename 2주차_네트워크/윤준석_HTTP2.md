# HTTP2

## ğŸ˜¡ HTTP/1.1ì˜ ë¬¸ì œì 

### Head-of-Line(HoL) blocking

![hol_blocking](https://user-images.githubusercontent.com/39883609/202840047-f382d003-b80a-4ff4-8026-6ebb212ce56d.png)

- í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ë³µìˆ˜ì˜ request ì „ì†¡ ì‹œ, ì„œë²„ëŠ” ìš”ì²­ ë°›ì€ ìˆœì„œëŒ€ë¡œ responseë¥¼ ë³´ë‚´ì•¼ í•¨.
- ì„œë²„ê°€ ì¤‘ê°„ response ì‘ì„±ì— ë¬¸ì œê°€ ìˆëŠ” ê²½ìš°, í›„ì† requestë“¤ì— ëŒ€í•œ responseë“¤ì€ í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡ë˜ì§€ ëª»í•˜ê³  ì§€ì—°ë¨.

### Fat Message Headers

- HTTP/1.1ì—ì„œëŠ” headerì— ëª¨ë“  ì •ë³´ë¥¼ ë‹´ì•„ì•¼ í•¨.
- ë§¤ request ë§ˆë‹¤ ì¤‘ë³µëœ í—¤ë”ë¥¼ ì „ì†¡í•˜ê³  í•´ë‹¹ ë„ë©”ì¸ì— ì„¤ì •ëœ ì¿ í‚¤ ì •ë³´ë„ ë§¤ ìš”ì²­ ì‹œ ë§ˆë‹¤ í—¤ë”ì— í¬í•¨ì‹œì¼œ ì „ì†¡í•´ì•¼ í•¨.
- ì „ì†¡í•˜ë ¤ëŠ” Bodyì˜ í¬ê¸°ë³´ë‹¤ í—¤ë”ì˜ í¬ê¸°ê°€ ë” í° ê²½ìš°ë„ ë°œìƒí•¨.

### Limited Priorities

- requestì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ìŒ.
- í•„ìš” ì—†ëŠ” ë°ì´í„°ë¡œ ì¸í•´ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë°ì´í„°ê°€ blockingë  ìˆ˜ ìˆìŒ.

### Client-Driven Transmission

- í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ requestë¥¼ ë³´ë‚´ì•¼ë§Œ í†µì‹ ì´ ê°€ëŠ¥í•œ êµ¬ì¡°ì„.
- ì„œë²„ ì…ì¥ì—ì„  í´ë¼ì´ì–¸íŠ¸ì˜ requestê°€ ì—†ìœ¼ë©´ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•¨.

## ğŸ’¨ SPDY

- Googleì—ì„œ ê°œë°œí•œ ë¹„í‘œì¤€ ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œì„.

![spdy](https://d2.naver.com/content/images/2015/06/helloworld-140351-1.png)

- HTTP/1.1ì˜ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìœ¼ë©°, HTTP/2.0ì˜ ê¸°ë°˜ì´ ë˜ì—ˆìŒ.
- ì£¼ìš” ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ìŒ:
  - í•­ìƒ TLS ìœ„ì—ì„œ ë™ì‘ -> ì•”í˜¸í™”ë˜ì§€ ì•Šì€ ì—°ê²°ì€ ì§€ì›í•˜ì§€ ì•ŠìŒ
  - ì‘ë‹µ ë‹¤ì¤‘í™” (Multiplexing) -> ì—¬ëŸ¬ requestë¥¼ ë™ì‹œì— ë³´ë‚¼ ìˆ˜ ìˆìŒ
  - í—¤ë” ì••ì¶•ì„ í†µí•œ í”„ë¡œí† ì½œ ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”
  - request ë³„ ìš°ì„ ìˆœìœ„ ì§€ì • ê°€ëŠ¥ -> ì¤‘ìš”í•œ requestì— ë” ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆìŒ
  - ì„œë²„ í‘¸ì‹œ -> í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•˜ì§€ ì•Šì€ ë¦¬ì†ŒìŠ¤ë¥¼ ë¯¸ë¦¬ ë³´ë‚¼ ìˆ˜ ìˆìŒ
  - ê¸°ì¡´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ìˆ˜ì • ì—†ëŠ” ì§€ì› -> HTTP/1.1ê³¼ í˜¸í™˜ë¨

## ğŸ¤” ì™œ HTTP/1.2ê°€ ì•„ë‹Œ HTTP/2.0ì¸ê°€?

![http1.1_vs_http2](https://user-images.githubusercontent.com/39883609/202841152-125b9c54-a257-49c2-9c1e-341409646940.png)

- Text ê¸°ë°˜ì˜ í†µì‹ ì´ ì•„ë‹Œ Binary framing ê³„ì¸µì„ ë„ì…í•¨.
- í•´ë‹¹ binary frameì€ ì‚¬ëŒì´ ì½ì„ ìˆ˜ ì—†ëŠ” ë°ì´í„°ì„.

![http2_frame](https://cheapsslsecurity.com/p/wp-content/uploads/2019/07/binary-framing-layer-1024x529.png)

- HTTP/1.1ê³¼ ë‹¬ë¦¬ HTTP/2ëŠ” ë” ì‘ì€ ë©”ì‹œì§€ì™€ í”„ë ˆì„ìœ¼ë¡œ ë¶„í• ë˜ë©° ë°”ì´ë„ˆë¦¬ í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”©ë¨.
- í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” ìƒˆ ë°”ì´ë„ˆë¦¬ ì¸ì½”ë”© ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•´ì•¼ í•¨.

## ğŸŒ HTTP/2.0ì˜ íŠ¹ì§•

### 